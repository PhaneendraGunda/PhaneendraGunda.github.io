language: ruby
cache: bundler

# Travis will build the site from gh-pages branch
# and deploy the content to master branch
# use gh-pages branch to serve for github pages
# master branch will be used for deployment

branches:
  only:
  - gh-pages
script:
  - JEKYLL_ENV=production bundle exec jekyll build --destination site

# You need to generate a Personal Access Token
# https://github.com/settings/tokens
# Add this token in environment variable GITHUB_TOKEN in Travis CI repo settings

deploy:
  provider: pages
  local-dir: ./site
  target-branch: master
  email: deploy@travis-ci.org
  name: Deployment Bot
  skip-cleanup: true
  github-token: $GITHUB_TOKEN
  keep-history: true
  on:
    branch: gh-pages

# Generate your secure token with the travis gem:
# get Github token from your Travis CI profile page
  gem install travis
  travis encrypt 'GIT_NAME="PhaneendraGunda" GIT_EMAIL="kumar289@gmail.com" GH_TOKEN=YOUR_TOKEN' --add env.global --com

env:
  global:
    secure: "TRAPGHP0wXar/e8AdKh4Tyk+Vl2r5HZ0W7Y+BAPYgQyK7VGq1tflJDJsUb1mgXD9mHrfsP5g002QmlByTVaU43Mx+XEOY2FV5cMv8llkLoqx2gSOHD1tYECmJcUmE5K5FTRRIENfj1o0jL9Iy7aRj7LDxGMNKh8hntsv836rUH8Q/fOIqADLAOY0N81b9xnaMo0+ztFMlBJooLe1uG8M8HsahtxyI/AxedSOYCv0xEVTxcnjxqSdZH/GTbV/mfBiXxWv2FZmuzYLBByZNvUM8EydYhtxLWPKbFzAidomB19yb0WxwV7pekp76CE5ReZ3aon+XUNyz0LGlL0bfHz28OLBuGFpTIZ6/FuE6ZDqffN23CUAzqN9tRxtMARuZtPn4cDIZ6Z/OzVzpLRMLea04/2bRX+Xa4kOWcIlUoIcTJFU0g1DpPfdB1JFgCt5bYhPaH7u+YLpvnBX0/g67EcAPLVaoTYWCLkm7iWjruivjNgh10odmqssHLb9Vnkhc6btLEJjYULqlG9ehiYr9Mkxh4YLY05EdLwK3DHNxCaBWLUcGFBBNoPT36/6uVkg+EUZKbTqO4En/cqRrxyGdxio+zQzlJUAlbRPAhduDwRYXMb3pwLvR40tZy+MZwjhFz5+x2QHnyrZWX10DlQHbWMU6j3CN+4KsFtCdnZ7vEVpBAw="